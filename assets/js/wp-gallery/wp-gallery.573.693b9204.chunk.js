"use strict";(self.webpackChunkwp_gallery=self.webpackChunkwp_gallery||[]).push([[573],{1573:function(t,e,i){i.r(e),i.d(e,{JustifiedGallery:function(){return l}});var n=i(6137),o=i(2065),r=i(11),a=(i(1477),i(481)),l=function(t){var e=t.onClick,i=(0,r.t0)().justifiedSettings,l=(0,n.E)().images,u=i,c=u.gap,d=u.backgroundColor,s=u.containerPadding,g=u.padding,h=u.rowHeight,m=u.width;return(0,a.jsx)(o.k,{images:l||[],layout:"rows",width:m,rowHeight:h,gap:c,padding:g,backgroundColor:d,containerPadding:s,settings:i,onClick:e})};e.default=l},2065:function(t,e,i){i.d(e,{k:function(){return b}});var n=i(5544),o=i(2920),r=i(4246),a=i(1477),l=i(3419),u=i(9379),c=i(4179),d=i(7758),s=i(5963),g=i(4367),h=i(1542),m=(i(6110),i(481)),p=(0,h.wt)("VideoThumbnail",(0,m.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),_=function(t,e){var i=Math.min(t,e,55)-10;return i>0?"".concat(i,"px"):"0px"},f=function(t){var e=t.image,i=t.imageProps,n=t.width,o=t.height,l=t.onClick,h=t.settings,f=t.style,b=(t.children,h.padding),x=h.paddingColor,w=h.borderRadius,y=h.titleSource,v=h.titleVisibility,k=h.captionVisibility,C=h.titleAlignment,j=h.titlePosition,H=h.captionPosition,R=h.titleColor,E=h.titleFontFamily,N=h.titleFontSize,A=h.overlayTextBackground,T=h.invertTextColor,z=h.hoverEffect,O=h.showCaption,P=h.captionSource,S=h.captionFontSize,M=h.captionFontColor,I=h.showTitle,F=b<w/2?w-b:w/2,B=(0,a.useRef)(null);return(0,m.jsx)("div",{className:(0,d.A)(l?"photo-album-item__image-wrapper_clickable":"photo-album-item__image-wrapper_non_clickable"),style:(0,u.A)({background:x,borderRadius:"".concat(w,"px")},f),onClick:l,children:(0,m.jsxs)("div",{ref:B,className:(0,d.A)("photo-album-item__image-wrapper","photo-album-item__image-wrapper_overflow","photo-album-item__image-wrapper_"+z),style:{borderRadius:"".concat(F,"px")},children:[(0,m.jsx)(s.A,(0,u.A)((0,u.A)({wrapperRef:B},i),{},{style:{width:"100%",height:"100%",display:"block"}})),(0,m.jsx)(g.n,{}),e.type===r.yj.VIDEO&&(0,m.jsx)(p,{style:{height:_(n,o),width:_(n,o)},className:"photo-album-item__video-icon"}),I&&function(t){var e=j!==r._H.CENTER?F/2+"px":"0";return(0,m.jsx)("div",{className:(0,d.A)("photo-album-item__title",{"photo-album-item__title_on-hover":I&&v===r.nz.ON_HOVER,"photo-album-item__title_hidden":!I,"reacg-gallery__text-background-top-gradient":""===A&&j===r._H.TOP,"reacg-gallery__text-background-bottom-gradient":""===A&&j===r._H.BOTTOM,"reacg-gallery__text-background-center-gradient":""===A&&j===r._H.CENTER}),children:(0,m.jsx)(c.A,{sx:{"& .MuiImageListItemBar-title":{fontSize:"".concat(N,"px"),fontFamily:E,lineHeight:"normal"},"& .MuiImageListItemBar-subtitle":{fontSize:"".concat(S,"px"),fontFamily:E,color:M,lineHeight:"normal"}},style:{textAlign:C,paddingLeft:e,paddingRight:e,color:R,backgroundColor:""===A?"unset":A,mixBlendMode:T?"difference":"initial"},className:"photo-album-item__title-content_".concat(j),title:I&&(0,m.jsx)("span",{children:(null===t||void 0===t?void 0:t[y])||(0,m.jsx)("br",{})}),subtitle:j===H&&O&&t[P]&&(0,m.jsx)("span",{className:"photo-album-item__caption",children:t[P]}),position:j!==r._H.CENTER?j:"bottom"})})}(e),O&&(j!=H||!I)&&function(t){var e=j!==r._H.CENTER?F/2+"px":"0";return(0,m.jsx)("div",{className:(0,d.A)("photo-album-item__title",{"photo-album-item__title_on-hover":O&&k===r.nz.ON_HOVER,"photo-album-item__title_hidden":!O,"reacg-gallery__text-background-top-gradient":""===A&&H===r._H.TOP,"reacg-gallery__text-background-bottom-gradient":""===A&&H===r._H.BOTTOM,"reacg-gallery__text-background-center-gradient":""===A&&H===r._H.CENTER}),children:(0,m.jsx)(c.A,{sx:{"& .MuiImageListItemBar-subtitle":{fontSize:"".concat(S,"px"),fontFamily:E,color:M,lineHeight:"normal"}},style:{textAlign:C,paddingLeft:e,paddingRight:e,color:M},className:"photo-album-item__title-content_".concat(H),subtitle:O&&(0,m.jsx)("span",{className:"photo-album-item__caption",children:t[P]||(0,m.jsx)("br",{})}),position:H!==r._H.CENTER?H:"bottom"})})}(e)]})})},b=function(t){var e=t.images,i=t.width,u=t.layout,c=t.columns,d=t.gap,s=t.padding,g=t.rowHeight,h=t.backgroundColor,p=t.containerPadding,_=t.settings,b=t.onClick,x=(0,a.useState)(1e3),w=(0,n.A)(x,2),y=w[0],v=w[1],k=c||4,C=(0,a.useMemo)((function(){return null===e||void 0===e?void 0:e.map((function(t){var e=t.type===r.yj.VIDEO,i=e?t.medium_large.width:t.original.width,n=e?t.medium_large.height:t.original.height,o=e?t.medium_large.url:t.original.url,a=[{src:t.large.url,width:t.large.width,height:t.large.height},{src:t.medium_large.url,width:t.medium_large.width,height:t.medium_large.height},{src:t.thumbnail.url,width:t.thumbnail.width,height:t.thumbnail.height}];return e||a.unshift({src:t.original.url,width:t.original.width,height:t.original.height}),{key:t.id,width:i,height:n,src:o,srcSet:a,id:t.id,alt:t.alt}}))}),[e]),j=(0,a.useCallback)((function(t){return b?function(){return b(t)}:void 0}),[b]),H=(0,a.useCallback)((function(t){var i=t.photo,n=t.layout,o=t.wrapperStyle,r=t.imageProps,a=null===e||void 0===e?void 0:e.find((function(t){return t.id===i.id})),l=null===e||void 0===e?void 0:e.findIndex((function(t){return t.id===i.id}));return a?(0,m.jsx)(f,{image:a,imageProps:r,width:n.width,height:n.height,style:o,onClick:j(l),settings:_},a.original.url):null}),[e,j,_]),R=(0,a.useCallback)((function(t){v(t);for(var e=1;e<=k;e++)if(t<=1e3*e/k)return e;return k}),[k]),E=(0,a.useRef)(null),N=(0,a.useRef)(null);return(0,a.useEffect)((function(){var t=N.current,e=E.current;if(t&&e&&"undefined"!==typeof ResizeObserver){var i=new ResizeObserver((function(){var i=t.offsetHeight;i>0&&(e.style.minHeight=i+"px")}));return i.observe(t),function(){return i.disconnect()}}}),[]),(0,m.jsx)(o.A,{sx:{width:"".concat(i,"%"),mx:"auto"},ref:E,children:(0,m.jsx)("div",{ref:N,style:{width:"100%"},children:(0,m.jsx)(l.A,{layout:u,columns:R,spacing:d,padding:s,targetRowHeight:g,photos:C,componentsProps:function(t){return{containerProps:{style:{background:h,padding:p+"px"}},imageProps:{loading:(t||0)>500?"eager":"lazy"}}},renderPhoto:H,sizes:{size:y+"px"}})})})}}}]);