"use strict";(self.webpackChunkwp_gallery=self.webpackChunkwp_gallery||[]).push([[472],{6663:function(e,n,t){var r=t(6578),o=t.n(r),a=t(3243),l=t.n(a)()(o());l.push([e.id,".yarl__counter{bottom:var(--yarl__counter_bottom,unset);color:var(--yarl__counter_color,var(--yarl__color_button,hsla(0,0%,100%,.8)));filter:var(--yarl__counter_filter,drop-shadow(2px 2px 2px rgba(0,0,0,.8)));left:var(--yarl__counter_left,0);line-height:var(--yarl__counter_line_height,var(--yarl__icon_size,32px));margin:var(--yarl__counter_margin,var(--yarl__toolbar_padding,8px));padding:var(--yarl__counter_padding,var(--yarl__button_padding,8px));position:var(--yarl__counter_position,absolute);right:var(--yarl__counter_right,unset);top:var(--yarl__counter_top,0);-webkit-user-select:var(--yarl__counter_user_select,none);-moz-user-select:var(--yarl__counter_user_select,none);user-select:var(--yarl__counter_user_select,none)}",""]),n.A=l},8402:function(e,n,t){var r=t(5072),o=t.n(r),a=t(7825),l=t.n(a),u=t(7659),c=t.n(u),i=t(5056),d=t.n(i),s=t(540),f=t.n(s),h=t(1113),v=t.n(h),m=t(6663),p={};p.styleTagTransform=v(),p.setAttributes=d(),p.insert=c().bind(null,"head"),p.domAPI=l(),p.insertStyleElement=f();o()(m.A,p),m.A&&m.A.locals&&m.A.locals},8586:function(e,n,t){t.d(n,{A:function(){return v}});var r=t(45),o=t(9379),a=t(1477),l=t(1542),u=t(9771),c=["className"],i=["separator","container","className"],d=["counter"],s={separator:"/",container:{}},f=function(e){return(0,o.A)((0,o.A)({},s),e)};function h(e){var n=e.counter,t=(0,l.mp)(),u=t.slides,d=t.currentIndex,s=f(n),h=s.separator,v=s.container,m=v.className,p=(0,r.A)(v,c),g=s.className,b=(0,r.A)(s,i);return 0===u.length?null:a.createElement("div",(0,o.A)((0,o.A)({className:(0,l.$z)((0,l.oF)("counter"),m||g)},b),p),d+1," ",h," ",u.length)}function v(e){var n=e.augment,t=e.addChild;n((function(e){var n=e.counter,t=(0,r.A)(e,d);return(0,o.A)({counter:f(n)},t)})),t(u.Kv,(0,l.Fi)(u.Jy,h))}},5626:function(e,n,t){t.d(n,{A:function(){return m}});var r=t(45),o=t(9379),a=t(1542),l=t(1477),u=t(9771),c=["toolbar","download"],i={download:void 0},d=function(e){return(0,o.A)((0,o.A)({},i),e)};function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}function f(e,n){var t=document.createElement("a");t.rel="noopener",t.download=n||"",t.download||(t.target="_blank"),"string"===typeof e?(t.href=e,t.origin!==window.location.origin?function(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch(t){}return n.status>=200&&n.status<=299}(t.href)?function(e,n){var t=new XMLHttpRequest;t.open("GET",e),t.responseType="blob",t.onload=function(){f(t.response,n)},t.onerror=function(){console.error("Failed to download file")},t.send()}(e,n):(t.target="_blank",s(t)):s(t)):(t.href=URL.createObjectURL(e),setTimeout((function(){return URL.revokeObjectURL(t.href)}),3e4),setTimeout((function(){return s(t)}),0))}var h=(0,a.wt)("DownloadIcon",l.createElement("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}));function v(){var e=(0,a.D$)(),n=e.render,t=e.on,r=e.download,o=d(r).download,u=(0,a.mp)(),c=u.currentSlide,i=u.currentIndex;if(n.buttonDownload)return l.createElement(l.Fragment,null,n.buttonDownload());var s=c&&(c.downloadUrl||"string"===typeof c.download&&c.download||"object"===typeof c.download&&c.download.url||(0,a.tx)(c)&&c.src)||void 0,v=o?!1!==(null===c||void 0===c?void 0:c.download):Boolean(s),m=function(){if(c&&s){var e=c.downloadFilename||"object"===typeof c.download&&c.download.filename||void 0;f(s,e)}};return l.createElement(a.K0,{label:"Download",icon:h,renderIcon:n.iconDownload,disabled:!v,onClick:function(){var e;c&&((o||m)({slide:c,saveAs:f}),null===(e=t.download)||void 0===e||e.call(t,{index:i}))}})}function m(e){(0,e.augment)((function(e){var n=e.toolbar,t=e.download,i=(0,r.A)(e,c);return(0,o.A)({toolbar:(0,a.bo)(n,u.z8,l.createElement(v,null)),download:d(t)},i)}))}},5271:function(e,n,t){t.d(n,{A:function(){return b}});var r=t(45),o=t(5544),a=t(9379),l=t(1542),u=t(1477),c=t(9771),i=["fullscreen","toolbar"],d={auto:!1,ref:null},s=function(e){return(0,a.A)((0,a.A)({},d),e)},f=u.createContext(null),h=(0,l.Tz)("useFullscreen","FullscreenContext",f);function v(e){var n=e.fullscreen,t=e.on,r=e.children,a=s(n),i=a.auto,d=a.ref,h=u.useRef(null),v=u.useState(),m=(0,o.A)(v,2),p=m[0],g=m[1],b=u.useState(!1),w=(0,o.A)(b,2),A=w[0],E=w[1],y=u.useRef(!1);(0,l.Nf)((function(){var e,n,t,r;g(!(null!==(r=null!==(t=null!==(n=null!==(e=document.fullscreenEnabled)&&void 0!==e?e:document.webkitFullscreenEnabled)&&void 0!==n?n:document.mozFullScreenEnabled)&&void 0!==t?t:document.msFullscreenEnabled)&&void 0!==r&&r))}),[]);var F=u.useCallback((function(){var e,n,t;return null!==(t=null!==(n=null!==(e=document.fullscreenElement)&&void 0!==e?e:document.webkitFullscreenElement)&&void 0!==n?n:document.mozFullScreenElement)&&void 0!==t?t:document.msFullscreenElement}),[]),x=u.useCallback((function(){var e=h.current;if(e)try{e.requestFullscreen?e.requestFullscreen().catch((function(){})):e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}catch(n){}}),[]),M=u.useCallback((function(){if(F())try{document.exitFullscreen?document.exitFullscreen().catch((function(){})):document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}catch(e){}}),[F]);u.useEffect((function(){var e=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],n=function(){E(F()===h.current)};return e.forEach((function(e){document.addEventListener(e,n)})),function(){e.forEach((function(e){document.removeEventListener(e,n)}))}}),[F]);var z=(0,l.DK)((function(){var e;return null===(e=t.enterFullscreen)||void 0===e?void 0:e.call(t)})),_=(0,l.DK)((function(){var e;return null===(e=t.exitFullscreen)||void 0===e?void 0:e.call(t)}));u.useEffect((function(){A&&(y.current=!0),y.current&&(A?z:_)()}),[A,z,_]);var k=(0,l.DK)((function(){var e;return null===(e=i?x:null)||void 0===e?void 0:e()}));u.useEffect((function(){return k(),function(){return M()}}),[k,M]);var C=u.useMemo((function(){return{fullscreen:A,disabled:p,enter:x,exit:M}}),[A,p,x,M]);return u.useImperativeHandle(d,(function(){return C}),[C]),u.createElement("div",{ref:h,className:(0,l.$z)((0,l.oF)(c.Qe),(0,l.oF)(c.CC))},u.createElement(f.Provider,{value:C},r))}var m=(0,l.wt)("EnterFullscreen",u.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),p=(0,l.wt)("ExitFullscreen",u.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function g(){var e,n=h(),t=n.fullscreen,r=n.disabled,o=n.enter,a=n.exit,c=(0,l.D$)().render;return r?null:c.buttonFullscreen?u.createElement(u.Fragment,null,null===(e=c.buttonFullscreen)||void 0===e?void 0:e.call(c,{fullscreen:t,disabled:r,enter:o,exit:a})):u.createElement(l.K0,{disabled:r,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?p:m,renderIcon:t?c.iconExitFullscreen:c.iconEnterFullscreen,onClick:t?a:o})}function b(e){var n=e.augment,t=e.contains,o=e.addParent;n((function(e){var n=e.fullscreen,t=e.toolbar,o=(0,r.A)(e,i);return(0,a.A)({toolbar:(0,l.bo)(t,c.Qe,u.createElement(g,null)),fullscreen:s(n)},o)})),o(t(c.QQ)?c.QQ:c.Kv,(0,l.Fi)(c.Qe,v))}},5085:function(e,n,t){t.d(n,{A:function(){return f}});var r=t(45),o=t(9379),a=t(1542),l=t(1477),u=["toolbar","share"],c={share:void 0},i=function(e){return(0,o.A)((0,o.A)({},c),e)};var d=(0,a.wt)("ShareIcon",l.createElement("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z"}));function s(){var e=(0,a.D$)(),n=e.render,t=e.on,r=e.share,o=i(r).share,u=(0,a.mp)(),c=u.currentSlide,s=u.currentIndex;if("undefined"===typeof navigator||!Boolean(navigator.canShare))return null;if(n.buttonShare)return l.createElement(l.Fragment,null,n.buttonShare());var f=c&&("object"===typeof c.share&&c.share||"string"===typeof c.share&&{url:c.share}||(0,a.tx)(c)&&{url:c.src})||void 0,h=o?!1!==(null===c||void 0===c?void 0:c.share):f&&navigator.canShare(f),v=function(){f&&navigator.share(f).catch((function(){}))};return l.createElement(a.K0,{label:"Share",icon:d,renderIcon:n.iconShare,disabled:!h,onClick:function(){var e;c&&((o||v)({slide:c}),null===(e=t.share)||void 0===e||e.call(t,{index:s}))}})}function f(e){(0,e.augment)((function(e){var n=e.toolbar,t=e.share,c=(0,r.A)(e,u);return(0,o.A)({toolbar:(0,a.bo)(n,"share",l.createElement(s,null)),share:i(t)},c)}))}},2269:function(e,n,t){t.d(n,{A:function(){return _}});var r=t(45),o=t(5544),a=t(436),l=t(9379),u=t(1542),c=t(1477),i=t(9771),d=["zoom","toolbar","render","controller"],s={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},f=function(e){return(0,l.A)((0,l.A)({},s),e)};function h(){var e=(0,u.D$)().zoom;return f(e)}function v(e,n){return Math.pow(Math.pow(e.clientX-n.clientX,2)+Math.pow(e.clientY-n.clientY,2),.5)}function m(e,n,t){var r=c.useState(1),a=(0,o.A)(r,2),l=a[0],i=a[1],d=c.useState(0),s=(0,o.A)(d,2),f=s[0],v=s[1],m=c.useState(0),p=(0,o.A)(m,2),g=p[0],b=p[1],w=function(e,n,t,r){var o=c.useRef(),a=c.useRef(),l=(0,u.D$)().animation.zoom,i=(0,u.iJ)(),d=(0,u.DK)((function(){var u,c,d;if(null===(u=o.current)||void 0===u||u.cancel(),o.current=void 0,a.current&&(null===r||void 0===r?void 0:r.current)){try{o.current=null===(d=(c=r.current).animate)||void 0===d?void 0:d.call(c,[{transform:a.current},{transform:"scale(".concat(e,") translateX(").concat(n,"px) translateY(").concat(t,"px)")}],{duration:i?0:null!==l&&void 0!==l?l:500,easing:o.current?"ease-out":"ease-in-out"})}catch(s){console.error(s)}a.current=void 0,o.current&&(o.current.onfinish=function(){o.current=void 0})}}));return(0,u.Nf)(d,[e,n,t,d]),c.useCallback((function(){a.current=(null===r||void 0===r?void 0:r.current)?window.getComputedStyle(r.current).transform:void 0}),[r])}(l,f,g,t),A=(0,u.mp)(),E=A.currentSlide,y=A.globalIndex,F=(0,u.as)(),x=F.containerRect,M=F.slideRect,z=h().zoomInMultiplier,_=E&&(0,u.tx)(E)?E.src:void 0,k=!_||!(null===t||void 0===t?void 0:t.current);(0,u.Nf)((function(){i(1),v(0),b(0)}),[y,_]);var C=c.useCallback((function(n,t,r){var o=r||l,a=f-(n||0),u=g-(t||0),c=(e.width*o-M.width)/2/o,i=(e.height*o-M.height)/2/o;v(Math.min(Math.abs(a),Math.max(c,0))*Math.sign(a)),b(Math.min(Math.abs(u),Math.max(i,0))*Math.sign(u))}),[l,f,g,M,e.width,e.height]),D=c.useCallback((function(e,t,r,o){var a=(0,u.LI)(Math.min(Math.max(e+.001<n?e:n,1),n),5);a!==l&&(t||w(),C(r?r*(1/l-1/a):0,o?o*(1/l-1/a):0,a),i(a))}),[l,n,C,w]),S=(0,u.DK)((function(){l>1&&(l>n&&D(n,!0),C())}));(0,u.Nf)(S,[x.width,x.height,S]);var R=c.useCallback((function(){return D(l*z)}),[l,z,D]),I=c.useCallback((function(){return D(l/z)}),[l,z,D]);return{zoom:l,offsetX:f,offsetY:g,disabled:k,changeOffsets:C,changeZoom:D,zoomIn:R,zoomOut:I}}var p=c.createContext(null),g=(0,u.Tz)("useZoom","ZoomControllerContext",p);function b(e){var n=e.children,t=c.useState(),r=(0,o.A)(t,2),d=r[0],s=r[1],f=function(e,n){var t,r,o={width:0,height:0},c={width:0,height:0},i=(0,u.mp)().currentSlide,d=(0,u.D$)().carousel.imageFit,s=h().maxZoomPixelRatio;if(e&&i){var f=(0,l.A)((0,l.A)({},i),n);if((0,u.tx)(f)){var v=(0,u.QJ)(f,d),m=Math.max.apply(Math,(0,a.A)(((null===(t=f.srcSet)||void 0===t?void 0:t.map((function(e){return e.width})))||[]).concat(f.width?[f.width]:[]))),p=Math.max.apply(Math,(0,a.A)(((null===(r=f.srcSet)||void 0===r?void 0:r.map((function(e){return e.height})))||[]).concat(f.height?[f.height]:[])));m>0&&p>0&&e.width>0&&e.height>0&&(c={width:(c=v?{width:Math.round(Math.min(m,e.width/e.height*p)),height:Math.round(Math.min(p,e.height/e.width*m))}:{width:m,height:p}).width*s,height:c.height*s},o=v?{width:Math.min(e.width,c.width,m),height:Math.min(e.height,c.height,p)}:{width:Math.round(Math.min(e.width,e.height/p*m,m)),height:Math.round(Math.min(e.height,e.width/m*p,p))})}}return{imageRect:o,maxZoom:o.width?Math.max((0,u.LI)(c.width/o.width,5),1):1}}((0,u.as)().slideRect,null===d||void 0===d?void 0:d.imageDimensions),g=f.imageRect,b=f.maxZoom,w=m(g,b,null===d||void 0===d?void 0:d.zoomWrapperRef),A=w.zoom,E=w.offsetX,y=w.offsetY,F=w.disabled,x=w.changeZoom,M=w.changeOffsets,z=w.zoomIn,_=w.zoomOut;!function(e,n){var t=(0,u.D$)().on,r=(0,u.DK)((function(){var r;n||null===(r=t.zoom)||void 0===r||r.call(t,{zoom:e})}));c.useEffect(r,[e,r])}(A,F),function(e,n,t,r,o,l){var d=c.useRef([]),s=c.useRef(0),f=c.useRef(),m=(0,u.mp)().globalIndex,p=(0,u.as)(),g=p.containerRef,b=p.subscribeSensors,w=h(),A=w.keyboardMoveDistance,E=w.zoomInMultiplier,y=w.wheelZoomDistanceFactor,F=w.scrollToZoom,x=w.doubleTapDelay,M=w.doubleClickDelay,z=w.doubleClickMaxStops,_=w.pinchZoomDistanceFactor,k=c.useCallback((function(e){if(g.current){var n=e.pageX,t=e.pageY,r=window,o=r.scrollX,a=r.scrollY,l=g.current.getBoundingClientRect(),u=l.left,c=l.top;return[n-u-o-l.width/2,t-c-a-l.height/2]}return[]}),[g]),C=(0,u.DK)((function(n){var t=function(){n.preventDefault(),n.stopPropagation()};if(e>1){var a=function(e,n){t(),o(e,n)};"ArrowDown"===n.key?a(0,A):"ArrowUp"===n.key?a(0,-A):"ArrowLeft"===n.key?a(-A,0):"ArrowRight"===n.key&&a(A,0)}var l=function(e){t(),r(e)},u=function(){return n.getModifierState("Meta")};"+"===n.key||"="===n.key&&u()?l(e*E):"-"===n.key||"_"===n.key&&u()?l(e/E):"0"===n.key&&u()&&l(1)})),D=(0,u.DK)((function(n){if((n.ctrlKey||F)&&Math.abs(n.deltaY)>Math.abs(n.deltaX))return n.stopPropagation(),void r.apply(void 0,[e*(1-n.deltaY/y),!0].concat((0,a.A)(k(n))));e>1&&(n.stopPropagation(),F||o(n.deltaX,n.deltaY))})),S=c.useCallback((function(e){var n=d.current;n.splice.apply(n,[0,n.length].concat((0,a.A)(n.filter((function(n){return n.pointerId!==e.pointerId})))))}),[]),R=c.useCallback((function(e){S(e),e.persist(),d.current.push(e)}),[S]),I=(0,u.DK)((function(t){var o,u=d.current;if(null===(o=null===l||void 0===l?void 0:l.current)||void 0===o?void 0:o.contains(t.target)){e>1&&t.stopPropagation();var c=t.timeStamp;0===u.length&&c-s.current<("touch"===t.pointerType?x:M)?(s.current=0,r.apply(void 0,[e!==n?e*Math.max(Math.pow(n,1/z),E):1,!1].concat((0,a.A)(k(t))))):s.current=c,R(t),2===u.length&&(f.current=v(u[0],u[1]))}})),Z=(0,u.DK)((function(n){var t=d.current,l=t.find((function(e){return e.pointerId===n.pointerId}));if(2===t.length&&f.current){n.stopPropagation(),R(n);var u=v(t[0],t[1]),c=u-f.current;Math.abs(c)>0&&(r.apply(void 0,[e*(1+c/_),!0].concat((0,a.A)(t.map((function(e){return k(e)})).reduce((function(e,n){return n.map((function(n,t){return e[t]+n/2}))}))))),f.current=u)}else e>1&&(n.stopPropagation(),l&&(1===t.length&&o((l.clientX-n.clientX)/e,(l.clientY-n.clientY)/e),R(n)))})),L=c.useCallback((function(e){var n=d.current;2===n.length&&n.find((function(n){return n.pointerId===e.pointerId}))&&(f.current=void 0),S(e)}),[S]),H=c.useCallback((function(){var e=d.current;e.splice(0,e.length),s.current=0,f.current=void 0}),[]);(0,u.yQ)(b,I,Z,L,t),c.useEffect(H,[m,H]),c.useEffect((function(){return t?function(){}:(0,u.tP)(H,b(i.uF,C),b(i.j7,D))}),[t,b,H,C,D])}(A,b,F,x,M,null===d||void 0===d?void 0:d.zoomWrapperRef);var k=c.useMemo((function(){return{zoom:A,maxZoom:b,offsetX:E,offsetY:y,disabled:F,zoomIn:z,zoomOut:_,changeZoom:x}}),[A,b,E,y,F,z,_,x]);c.useImperativeHandle(h().ref,(function(){return k}),[k]);var C=c.useMemo((function(){return(0,l.A)((0,l.A)({},k),{},{setZoomWrapper:s})}),[k,s]);return c.createElement(p.Provider,{value:C},n)}var w=(0,u.wt)("ZoomIn",c.createElement(c.Fragment,null,c.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),c.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),A=(0,u.wt)("ZoomOut",c.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),E=c.forwardRef((function(e,n){var t=e.zoomIn,r=e.onLoseFocus,o=c.useRef(!1),a=c.useRef(!1),l=g(),i=l.zoom,d=l.maxZoom,s=l.zoomIn,f=l.zoomOut,h=l.disabled,v=(0,u.D$)().render,m=h||(t?i>=d:i<=1);return c.useEffect((function(){m&&o.current&&a.current&&r(),m||(o.current=!0)}),[m,r]),c.createElement(u.K0,{ref:n,disabled:m,label:t?"Zoom in":"Zoom out",icon:t?w:A,renderIcon:t?v.iconZoomIn:v.iconZoomOut,onClick:t?s:f,onFocus:function(){a.current=!0},onBlur:function(){a.current=!1}})}));function y(){var e=c.useRef(null),n=c.useRef(null),t=(0,u.as)().focus,r=c.useCallback((function(e){var n,r;(null===(n=e.current)||void 0===n?void 0:n.disabled)?t():null===(r=e.current)||void 0===r||r.focus()}),[t]),o=c.useCallback((function(){return r(e)}),[r]),a=c.useCallback((function(){return r(n)}),[r]);return c.createElement(c.Fragment,null,c.createElement(E,{zoomIn:!0,ref:e,onLoseFocus:a}),c.createElement(E,{ref:n,onLoseFocus:o}))}function F(){var e=(0,u.D$)().render,n=g();return e.buttonZoom?c.createElement(c.Fragment,null,e.buttonZoom(n)):c.createElement(y,null)}function x(e,n){var t=e.current,r=e.preload,o=n.type,a=n.source;switch(o){case"fetch":return t?{current:t,preload:a}:{current:a};case"done":return a===r?{current:a}:{current:t,preload:r};default:throw new Error(i.V)}}function M(e){var n,t,r=c.useReducer(x,{}),i=(0,o.A)(r,2),d=i[0],s=d.current,f=d.preload,h=i[1],v=e.slide,m=e.rect,p=e.imageFit,g=e.render,b=v.srcSet.sort((function(e,n){return e.width-n.width})),w=null!==(n=v.width)&&void 0!==n?n:b[b.length-1].width,A=null!==(t=v.height)&&void 0!==t?t:b[b.length-1].height,E=(0,u.QJ)(v,p),y=Math.max.apply(Math,(0,a.A)(b.map((function(e){return e.width})))),F=Math.min((E?Math.max:Math.min)(m.width,w*(m.height/A)),y),M=(0,u.Y5)(),z=(0,u.DK)((function(){var e,n=null!==(e=b.find((function(e){return e.width>=F*M})))&&void 0!==e?e:b[b.length-1];(!s||b.findIndex((function(e){return e.src===s}))<b.findIndex((function(e){return e===n})))&&h({type:"fetch",source:n.src})}));(0,u.Nf)(z,[m.width,m.height,M,z]);var _=(0,u.DK)((function(e){return h({type:"done",source:e})})),k={WebkitTransform:"translateZ(0)"};return E||Object.assign(k,m.width/m.height<w/A?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),c.createElement(c.Fragment,null,f&&f!==s&&c.createElement(u.Z$,(0,l.A)((0,l.A)({key:"preload"},e),{},{slide:(0,l.A)((0,l.A)({},v),{},{src:f,srcSet:void 0}),style:(0,l.A)({position:"absolute",visibility:"hidden"},k),onLoad:function(){return _(f)},render:(0,l.A)((0,l.A)({},g),{},{iconLoading:function(){return null},iconError:function(){return null}})})),s&&c.createElement(u.Z$,(0,l.A)((0,l.A)({key:"current"},e),{},{slide:(0,l.A)((0,l.A)({},v),{},{src:s,srcSet:void 0}),style:k})))}function z(e){var n,t=e.render,r=e.slide,a=e.offset,d=e.rect,s=c.useState(),f=(0,o.A)(s,2),h=f[0],v=f[1],m=c.useRef(null),p=g(),b=p.zoom,w=p.maxZoom,A=p.offsetX,E=p.offsetY,y=p.setZoomWrapper,F=(0,u.D$)(),x=F.carousel,z=F.on,_=(0,u.mp)().currentIndex;(0,u.Nf)((function(){return 0===a?(y({zoomWrapperRef:m,imageDimensions:h}),function(){return y(void 0)}):function(){}}),[a,h,y]);var k=null===(n=t.slide)||void 0===n?void 0:n.call(t,{slide:r,offset:a,rect:d,zoom:b,maxZoom:w});if(!k&&(0,u.tx)(r)){var C={slide:r,offset:a,rect:d,render:t,imageFit:x.imageFit,imageProps:x.imageProps,onClick:0===a?function(){var e;return null===(e=z.click)||void 0===e?void 0:e.call(z,{index:_})}:void 0};k=function(e){var n;return((null===(n=e.srcSet)||void 0===n?void 0:n.length)||0)>0}(r)?c.createElement(M,(0,l.A)((0,l.A)({key:r.src},C),{},{slide:r,rect:0===a?{width:d.width*b,height:d.height*b}:d})):c.createElement(u.Z$,(0,l.A)({key:r.src,onLoad:function(e){return v({width:e.naturalWidth,height:e.naturalHeight})}},C))}return k?c.createElement("div",{ref:m,className:(0,u.$z)((0,u.oF)(i.CC),(0,u.oF)(i.tC),(0,u.oF)(i.pc)),style:0===a?{transform:"scale(".concat(b,") translateX(").concat(A,"px) translateY(").concat(E,"px)")}:void 0},k):null}var _=function(e){var n=e.augment,t=e.addModule;n((function(e){var n=e.zoom,t=e.toolbar,o=e.render,a=e.controller,s=(0,r.A)(e,d),h=f(n);return(0,l.A)({zoom:h,toolbar:(0,u.bo)(t,i.AH,c.createElement(F,null)),render:(0,l.A)((0,l.A)({},o),{},{slide:function(e){var n;return(0,u.tx)(e.slide)?c.createElement(z,(0,l.A)({render:o},e)):null===(n=o.slide)||void 0===n?void 0:n.call(o,e)}}),controller:(0,l.A)((0,l.A)({},a),{},{preventDefaultWheelY:h.scrollToZoom})},s)})),t((0,u.Fi)(i.AH,b))}}}]);