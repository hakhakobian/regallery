"use strict";(self.webpackChunkwp_gallery=self.webpackChunkwp_gallery||[]).push([[573],{1573:function(t,e,i){i.r(e),i.d(e,{JustifiedGallery:function(){return l}});var o=i(6137),n=i(2065),r=i(11),a=(i(1477),i(481)),l=function(t){var e=t.onClick,i=(0,r.t0)().justifiedSettings,l=(0,o.E)().images,s=i,d=s.gap,u=s.backgroundColor,c=s.containerPadding,g=s.padding,h=s.rowHeight,m=s.width;return(0,a.jsx)(n.k,{images:l||[],layout:"rows",width:m,rowHeight:h,gap:d,padding:g,backgroundColor:u,containerPadding:c,settings:i,onClick:e})};e.default=l},2065:function(t,e,i){i.d(e,{k:function(){return _}});var o=i(5544),n=i(2920),r=i(4246),a=i(1477),l=i(3419),s=i(9379),d=i(4179),u=i(7758),c=i(5963),g=i(2015),h=i(4367),m=(i(6110),i(481)),p=function(t){var e=t.image,i=t.imageProps,o=(t.width,t.height,t.onClick),n=t.settings,l=t.style,p=(t.children,n.padding),_=n.paddingColor,f=n.borderRadius,b=n.titleSource,w=n.titleVisibility,x=n.captionVisibility,y=n.titleAlignment,v=n.titlePosition,k=n.captionPosition,C=n.titleColor,j=n.titleFontFamily,H=n.titleFontSize,R=n.overlayTextBackground,A=n.invertTextColor,E=n.hoverEffect,N=n.showCaption,P=n.captionSource,T=n.captionFontSize,O=n.captionFontColor,z=n.showTitle,I=p<f/2?f-p:f/2,S=(0,a.useRef)(null);return(0,m.jsx)("div",{className:(0,u.A)(o?"photo-album-item__image-wrapper_clickable":"photo-album-item__image-wrapper_non_clickable"),style:(0,s.A)({background:_,borderRadius:"".concat(f,"px")},l),onClick:o,children:(0,m.jsxs)("div",{ref:S,className:(0,u.A)("photo-album-item__image-wrapper","photo-album-item__image-wrapper_overflow","photo-album-item__image-wrapper_"+E),style:{borderRadius:"".concat(I,"px")},children:[e.type===r.yj.IMAGE&&(0,m.jsx)(c.A,(0,s.A)((0,s.A)({wrapperRef:S},i),{},{style:{width:"100%",height:"100%",display:"block"}})),e.type===r.yj.VIDEO&&(0,m.jsx)(g.A,{wrapperRef:S,item:e,settings:n,coverImageProps:(0,s.A)((0,s.A)({},i),{},{style:{width:"100%",height:"100%",display:"block"}})}),(0,m.jsx)(h.n,{}),z&&function(t){var e=v!==r._H.CENTER?I/2+"px":"0";return(0,m.jsx)("div",{className:(0,u.A)("photo-album-item__title",{"photo-album-item__title_on-hover":z&&w===r.nz.ON_HOVER,"photo-album-item__title_hidden":!z,"reacg-gallery__text-background-top-gradient":""===R&&v===r._H.TOP,"reacg-gallery__text-background-bottom-gradient":""===R&&v===r._H.BOTTOM,"reacg-gallery__text-background-center-gradient":""===R&&v===r._H.CENTER}),children:(0,m.jsx)(d.A,{sx:{"& .MuiImageListItemBar-title":{fontSize:"".concat(H,"px"),fontFamily:j,lineHeight:"normal"},"& .MuiImageListItemBar-subtitle":{fontSize:"".concat(T,"px"),fontFamily:j,color:O,lineHeight:"normal"}},style:{textAlign:y,paddingLeft:e,paddingRight:e,color:C,backgroundColor:""===R?"unset":R,mixBlendMode:A?"difference":"initial"},className:"photo-album-item__title-content_".concat(v),title:z&&(0,m.jsx)("span",{children:(null===t||void 0===t?void 0:t[b])||(0,m.jsx)("br",{})}),subtitle:v===k&&N&&t[P]&&(0,m.jsx)("span",{className:"photo-album-item__caption",children:t[P]}),position:v!==r._H.CENTER?v:"bottom"})})}(e),N&&(v!=k||!z)&&function(t){var e=v!==r._H.CENTER?I/2+"px":"0";return(0,m.jsx)("div",{className:(0,u.A)("photo-album-item__title",{"photo-album-item__title_on-hover":N&&x===r.nz.ON_HOVER,"photo-album-item__title_hidden":!N,"reacg-gallery__text-background-top-gradient":""===R&&k===r._H.TOP,"reacg-gallery__text-background-bottom-gradient":""===R&&k===r._H.BOTTOM,"reacg-gallery__text-background-center-gradient":""===R&&k===r._H.CENTER}),children:(0,m.jsx)(d.A,{sx:{"& .MuiImageListItemBar-subtitle":{fontSize:"".concat(T,"px"),fontFamily:j,color:O,lineHeight:"normal"}},style:{textAlign:y,paddingLeft:e,paddingRight:e,color:O},className:"photo-album-item__title-content_".concat(k),subtitle:N&&(0,m.jsx)("span",{className:"photo-album-item__caption",children:t[P]||(0,m.jsx)("br",{})}),position:k!==r._H.CENTER?k:"bottom"})})}(e)]})})},_=function(t){var e=t.images,i=t.width,s=t.layout,d=t.columns,u=t.gap,c=t.padding,g=t.rowHeight,h=t.backgroundColor,_=t.containerPadding,f=t.settings,b=t.onClick,w=(0,a.useState)(1e3),x=(0,o.A)(w,2),y=x[0],v=x[1],k=d||4,C=(0,a.useMemo)((function(){return null===e||void 0===e?void 0:e.map((function(t){var e=t.type===r.yj.VIDEO,i=e&&f.showVideoCover?t.medium_large.width:t.original.width,o=e&&f.showVideoCover?t.medium_large.height:t.original.height,n=e&&f.showVideoCover?t.medium_large.url:t.original.url,a=[{src:t.large.url,width:t.large.width,height:t.large.height},{src:t.medium_large.url,width:t.medium_large.width,height:t.medium_large.height},{src:t.thumbnail.url,width:t.thumbnail.width,height:t.thumbnail.height}];return e&&f.showVideoCover||a.unshift({src:t.original.url,width:t.original.width,height:t.original.height}),{key:t.id,width:i,height:o,src:n,srcSet:a,id:t.id,alt:t.alt}}))}),[e,f.showVideoCover]),j=(0,a.useCallback)((function(t){return b?function(){return b(t)}:void 0}),[b]),H=(0,a.useCallback)((function(t){var i=t.photo,o=t.layout,n=t.wrapperStyle,r=t.imageProps,a=null===e||void 0===e?void 0:e.find((function(t){return t.id===i.id})),l=null===e||void 0===e?void 0:e.findIndex((function(t){return t.id===i.id}));return a?(0,m.jsx)(p,{image:a,imageProps:r,width:o.width,height:o.height,style:n,onClick:j(l),settings:f},a.original.url):null}),[e,j,f]),R=(0,a.useCallback)((function(t){v(t);for(var e=1;e<=k;e++)if(t<=1e3*e/k)return e;return k}),[k]),A=(0,a.useRef)(null),E=(0,a.useRef)(null);return(0,a.useEffect)((function(){var t=E.current,e=A.current;if(t&&e&&"undefined"!==typeof ResizeObserver){var i=new ResizeObserver((function(){var i=t.offsetHeight;i>0&&(e.style.minHeight=i+"px")}));return i.observe(t),function(){return i.disconnect()}}}),[]),(0,m.jsx)(n.A,{sx:{width:"".concat(i,"%"),mx:"auto"},ref:A,children:(0,m.jsx)("div",{ref:E,style:{width:"100%"},children:(0,m.jsx)(l.A,{layout:s,columns:R,spacing:u,padding:c,targetRowHeight:g,photos:C,componentsProps:function(t){return{containerProps:{style:{background:h,padding:_+"px"}},imageProps:{loading:(t||0)>500?"eager":"lazy"}}},renderPhoto:H,sizes:{size:y+"px"}})})})}}}]);