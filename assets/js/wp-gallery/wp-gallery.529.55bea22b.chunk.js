"use strict";(self.webpackChunkwp_gallery=self.webpackChunkwp_gallery||[]).push([[529],{529:function(i,t,e){e.r(t),e.d(t,{MosaicGallery:function(){return l}});var n=e(6137),a=e(2065),r=e(11),o=(e(1477),e(481)),l=function(i){var t=i.onClick,e=(0,r.t0)().mosaicSettings,l=(0,n.E)().images,u=e,s=u.gap,d=u.backgroundColor,c=u.containerPadding,h=u.padding,g=u.width,m=u.columns;return(0,o.jsx)(a.k,{images:l||[],layout:"columns",width:g,columns:m,gap:s,padding:h,backgroundColor:d,containerPadding:c,settings:e,onClick:t})};t.default=l},2065:function(i,t,e){e.d(t,{k:function(){return b}});var n=e(5544),a=e(2920),r=e(9502),o=e(1477),l=e(3419),u=e(9379),s=e(4179),d=e(7758),c=e(5963),h=e(1542),g=(e(6110),e(481)),m=(0,h.wt)("VideoThumbnail",(0,g.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),p=function(i,t){var e=Math.min(i,t,55)-10;return e>0?"".concat(e,"px"):"0px"},_=function(i){var t=i.image,e=i.imageProps,n=i.width,a=i.height,l=i.onClick,h=i.settings,_=i.style,b=(i.children,h.padding),w=h.paddingColor,f=h.borderRadius,x=h.titleSource,y=h.titleVisibility,v=h.titleAlignment,k=h.titlePosition,C=h.titleColor,j=h.titleFontFamily,A=h.titleFontSize,P=h.hoverEffect,z=b<f/2?f-b:f/2,E=(0,o.useRef)(null);return(0,g.jsx)("div",{style:(0,u.A)({background:w,borderRadius:"".concat(f,"px")},_),onClick:l,children:(0,g.jsxs)("div",{ref:E,className:(0,d.A)("photo-album-item__image-wrapper","photo-album-item__image-wrapper_overflow","photo-album-item__image-wrapper_"+P,{"photo-album-item__image-wrapper_clickable":!!l}),style:{borderRadius:"".concat(z,"px")},children:[(0,g.jsx)(c.A,(0,u.A)((0,u.A)({wrapperRef:E},e),{},{style:{width:"100%",height:"100%",display:"block"}})),t.type===r.yj.VIDEO&&(0,g.jsx)(m,{style:{height:p(n,a),width:p(n,a)},className:(0,d.A)("photo-album-item__video-icon",{"photo-album-item__image-wrapper_clickable":!!l})}),function(){var i=(null===t||void 0===t?void 0:t[x])||"";return t?(0,g.jsx)("div",{className:(0,d.A)("photo-album-item__title",{"photo-album-item__title_on-hover":y===r.nz.ON_HOVER,"photo-album-item__title_hidden":y===r.nz.NONE}),children:(0,g.jsx)(s.A,{sx:{"& .MuiImageListItemBar-title,.MuiImageListItemBar-subtitle":{fontSize:"".concat(A,"px"),fontFamily:j,lineHeight:"normal"}},style:{textAlign:v,color:C},className:(0,d.A)({"photo-album-item__title-content_center":k===r._H.CENTER}),title:(0,g.jsx)("span",{children:i||(0,g.jsx)("br",{})}),subtitle:t.price&&(0,g.jsx)("span",{className:"photo-album-item__caption",children:t.price}),position:k!==r._H.CENTER?k:"bottom"})},t.id):null}()]})})},b=function(i){var t=i.images,e=i.width,u=i.layout,s=i.columns,d=i.gap,c=i.padding,h=i.rowHeight,m=i.backgroundColor,p=i.containerPadding,b=i.settings,w=i.onClick,f=(0,o.useState)(1e3),x=(0,n.A)(f,2),y=x[0],v=x[1],k=s||4,C=(0,o.useMemo)((function(){return t.map((function(i){var t=i.type===r.yj.VIDEO,e=t?i.medium_large.width:i.original.width,n=t?i.medium_large.height:i.original.height,a=t?i.medium_large.url:i.original.url,o=[{src:i.large.url,width:i.large.width,height:i.large.height},{src:i.medium_large.url,width:i.medium_large.width,height:i.medium_large.height},{src:i.thumbnail.url,width:i.thumbnail.width,height:i.thumbnail.height}];return t||o.unshift({src:i.original.url,width:i.original.width,height:i.original.height}),{key:i.id,width:e,height:n,src:a,srcSet:o,id:i.id,alt:i.alt}}))}),[t]),j=(0,o.useCallback)((function(i){return w?function(){return w(i)}:void 0}),[w]),A=(0,o.useCallback)((function(i){var e=i.photo,n=i.layout,a=i.wrapperStyle,r=i.imageProps,o=null===t||void 0===t?void 0:t.find((function(i){return i.id===e.id})),l=null===t||void 0===t?void 0:t.findIndex((function(i){return i.id===e.id}));return o?(0,g.jsx)(_,{image:o,imageProps:r,width:n.width,height:n.height,style:a,onClick:j(l),settings:b},o.original.url):null}),[t,j,b]),P=(0,o.useCallback)((function(i){v(i);for(var t=1;t<=k;t++)if(i<=1e3*t/k)return t;return k}),[k]);return(0,g.jsx)(a.A,{sx:{width:"".concat(e,"%"),mx:"auto"},children:(0,g.jsx)(l.A,{layout:u,columns:P,spacing:d,padding:c,targetRowHeight:h,photos:C,componentsProps:function(i){return{containerProps:{style:{background:m,padding:p+"px"}},imageProps:{loading:(i||0)>500?"eager":"lazy"}}},renderPhoto:A,sizes:{size:y+"px"}})})}}}]);