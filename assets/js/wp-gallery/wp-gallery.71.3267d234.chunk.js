"use strict";(self.webpackChunkwp_gallery=self.webpackChunkwp_gallery||[]).push([[71],{2920:function(t,n,o){o.d(n,{A:function(){return w}});var e=o(8168),r=o(8587),i=o(1477),a=o(8988),c=o(7638),u=o(5954),s=o(7376),l=o(607),p=o(481),h=["className","component"];var d=o(4700),f=o(7836),m=o(8813),g=(0,o(822).A)("MuiBox",["root"]),v=(0,f.A)(),y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.themeId,o=t.defaultTheme,d=t.defaultClassName,f=void 0===d?"MuiBox-root":d,m=t.generateClassName,g=(0,c.default)("div",{shouldForwardProp:function(t){return"theme"!==t&&"sx"!==t&&"as"!==t}})(u.A);return i.forwardRef((function(t,i){var c=(0,l.A)(o),u=(0,s.A)(t),d=u.className,v=u.component,y=void 0===v?"div":v,w=(0,r.A)(u,h);return(0,p.jsx)(g,(0,e.A)({as:y,ref:i,className:(0,a.A)(d,m?m(f):f),theme:n&&c[n]||c},w))}))}({themeId:m.A,defaultTheme:v,defaultClassName:g.root,generateClassName:d.A.generate}),w=y},4179:function(t,n,o){o.d(n,{A:function(){return C}});var e=o(8587),r=o(8168),i=o(5052),a=o(9992),c=o(1477),u=o(4421),s=o(6706),l=o(493),p=o(822),h=o(1454);function d(t){return(0,h.Ay)("MuiImageListItemBar",t)}(0,p.A)("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);var f=o(481),m=["actionIcon","actionPosition","className","subtitle","title","position"],g=(0,u.Ay)("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:function(t,n){var o=t.ownerState;return[n.root,n["position".concat((0,l.A)(o.position))]]}})((function(t){var n=t.theme,o=t.ownerState;return(0,r.A)({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:n.typography.fontFamily},"bottom"===o.position&&{bottom:0},"top"===o.position&&{top:0},"below"===o.position&&{position:"relative",background:"transparent",alignItems:"normal"})})),v=(0,u.Ay)("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:function(t,n){var o=t.ownerState;return[n.titleWrap,n["titleWrap".concat((0,l.A)(o.position))],o.actionIcon&&n["titleWrapActionPos".concat((0,l.A)(o.actionPosition))]]}})((function(t){var n=t.theme,o=t.ownerState;return(0,r.A)({flexGrow:1,padding:"12px 16px",color:(n.vars||n).palette.common.white,overflow:"hidden"},"below"===o.position&&{padding:"6px 0 12px",color:"inherit"},o.actionIcon&&"left"===o.actionPosition&&{paddingLeft:0},o.actionIcon&&"right"===o.actionPosition&&{paddingRight:0})})),y=(0,u.Ay)("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:function(t,n){return n.title}})((function(t){return{fontSize:t.theme.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}})),w=(0,u.Ay)("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:function(t,n){return n.subtitle}})((function(t){return{fontSize:t.theme.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}})),A=(0,u.Ay)("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:function(t,n){var o=t.ownerState;return[n.actionIcon,n["actionIconActionPos".concat((0,l.A)(o.actionPosition))]]}})((function(t){var n=t.ownerState;return(0,r.A)({},"left"===n.actionPosition&&{order:-1})})),C=c.forwardRef((function(t,n){var o=(0,s.A)({props:t,name:"MuiImageListItemBar"}),c=o.actionIcon,u=o.actionPosition,p=void 0===u?"right":u,h=o.className,C=o.subtitle,x=o.title,P=o.position,W=void 0===P?"bottom":P,I=(0,e.A)(o,m),b=(0,r.A)({},o,{position:W,actionPosition:p}),R=function(t){var n=t.classes,o=t.position,e=t.actionIcon,r=t.actionPosition,a={root:["root","position".concat((0,l.A)(o))],titleWrap:["titleWrap","titleWrap".concat((0,l.A)(o)),e&&"titleWrapActionPos".concat((0,l.A)(r))],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon","actionIconActionPos".concat((0,l.A)(r))]};return(0,i.A)(a,d,n)}(b);return(0,f.jsxs)(g,(0,r.A)({ownerState:b,className:(0,a.A)(R.root,h),ref:n},I,{children:[(0,f.jsxs)(v,{ownerState:b,className:R.titleWrap,children:[(0,f.jsx)(y,{className:R.title,children:x}),C?(0,f.jsx)(w,{className:R.subtitle,children:C}):null]}),c?(0,f.jsx)(A,{ownerState:b,className:R.actionIcon,children:c}):null]}))}))},8658:function(t){t.exports=function(t,n){return n||(n={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),n.hash&&(t+=n.hash),/["'() \t\n]|(%20)/.test(t)||n.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},8988:function(t,n,o){function e(t){var n,o,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(o=e(t[n]))&&(r&&(r+=" "),r+=o)}else for(o in t)t[o]&&(r&&(r+=" "),r+=o);return r}n.A=function(){for(var t,n,o=0,r="",i=arguments.length;o<i;o++)(t=arguments[o])&&(n=e(t))&&(r&&(r+=" "),r+=n);return r}},3419:function(t,n,o){o.d(n,{A:function(){return J}});var e=o(5544),r=o(436),i=o(9379),a=o(45),c=o(3029),u=o(2901),s=o(1477),l=["style","className"],p=["src","alt","srcSet","sizes","style"],h=["style","className"],d=["style","className"],f=["layoutOptions","renderColumnContainer","children","columnContainerProps"],m=["style","className"];function g(t){return t.width/t.height}function v(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=Math.pow(10,n);return Math.round((t+Number.EPSILON)*o)/o}var y=function(){function t(n){(0,c.A)(this,t),this.comparator=n,this.heap=[],this.n=0}return(0,u.A)(t,[{key:"greater",value:function(t,n){return this.comparator(this.heap[t],this.heap[n])<0}},{key:"swap",value:function(t,n){var o=this.heap[t];this.heap[t]=this.heap[n],this.heap[n]=o}},{key:"swim",value:function(t){for(var n=t,o=Math.floor(n/2);n>1&&this.greater(o,n);)this.swap(o,n),n=o,o=Math.floor(n/2)}},{key:"sink",value:function(t){for(var n=t,o=2*n;o<=this.n&&(o<this.n&&this.greater(o,o+1)&&(o+=1),this.greater(n,o));)this.swap(n,o),o=2*(n=o)}},{key:"push",value:function(t){this.n+=1,this.heap[this.n]=t,this.swim(this.n)}},{key:"pop",value:function(){if(0!==this.n){this.swap(1,this.n),this.n-=1;var t=this.heap.pop();return this.sink(1),t}}},{key:"size",value:function(){return this.n}}]),t}();function w(t,n,o){var e=function(t,n,o){var e=new Map,r=new Set,i=new Map;i.set(n,0);var a,c=new y((a=function(t){return t.weight},function(t,n){return a(n)-a(t)}));c.push({id:n,weight:0});for(var u=function(){var n=c.pop(),o=n.id,a=n.weight;if(!r.has(o)){var u=t(o);r.add(o),u.forEach((function(t,n){var r=a+t,u=e.get(n),s=i.get(n);(void 0===s||s>r&&(s/r>1.005||void 0!==u&&u<o))&&(i.set(n,r),c.push({id:n,weight:r}),e.set(n,o))}))}};c.size()>0;)u();return i.has(o)?e:void 0}(t,n,o);return e?function(t,n){for(var o=[],e=n;void 0!==e;e=t.get(e))o.push(e);return o.reverse()}(e,o):void 0}function A(t,n,o,e){return(n-(t.length-1)*o-2*e*t.length)/t.reduce((function(t,n){return t+g(n)}),0)}function C(t,n,o,e,r,i,a){var c=t.slice(n,o),u=A(c,e,i,a);return u>0?Math.pow(u-r,2)*c.length:void 0}function x(t){var n=t.photos,o=t.layoutOptions,e=o.spacing,r=o.padding,i=o.containerWidth,a=o.targetRowHeight,c=o.rowConstraints,u=function(t){var n=t.photos,o=t.targetRowHeight;return v(t.containerWidth/o/n.reduce((function(t,n){return Math.min(g(n),t)}),Number.MAX_VALUE))+2}({photos:n,containerWidth:i,targetRowHeight:a}),s=function(t){var n=t.photos,o=t.layoutOptions,e=t.targetRowHeight,r=t.limitNodeSearch,i=t.rowConstraints;return function(t){var a,c,u=o.containerWidth,s=o.spacing,l=o.padding,p=new Map;p.set(t,0);for(var h=null!=(a=null==i?void 0:i.minPhotos)?a:1,d=Math.min(r,null!=(c=null==i?void 0:i.maxPhotos)?c:1/0),f=t+h;f<n.length+1&&!(f-t>d);f+=1){var m=C(n,t,f,u,e,s,l);if(void 0===m)break;p.set(f,m)}return p}}({photos:n,layoutOptions:o,targetRowHeight:a,limitNodeSearch:u,rowConstraints:c}),l=w(s,0,n.length);if(void 0!==l){for(var p=[],h=function(){var t=n.map((function(t,n){return{photo:t,index:n}})).slice(l[d-1],l[d]),o=A(t.map((function(t){return t.photo})),i,e,r);p.push(t.map((function(n,e){var r=n.photo,i=n.index;return{photo:r,layout:{height:o,width:o*g(r),index:i,photoIndex:e,photosCount:t.length}}})))},d=1;d<l.length;d+=1)h();return p}}function P(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return[].concat(n).filter((function(t){return Boolean(t)})).join(" ")}function W(t,n,o){var e=n.width,r=n.photosCount,i=o.spacing,a=o.padding,c=o.containerWidth,u=i*(r-1)+2*a*r;return"calc((".concat(t," - ").concat(u,"px) / ").concat(v((c-u)/e,5),")")}function I(t,n){return"rows"!==n.layout?"calc(100% - ".concat(2*n.padding,"px)"):W("100%",t,n)}function b(t,n,o){var e,r;return W(null!=(r=null==(e=t.match(/^\s*calc\((.*)\)\s*$/))?void 0:e[1])?r:t,n,o)}function R(t){var n,o,e,r=t.photo,c=t.layout,u=t.layoutOptions,h=t.imageProps,d=void 0===h?{}:h,f=d.style,m=d.className,g=(0,a.A)(d,l),v=t.renderPhoto,y=u.onClick,w=(0,i.A)((0,i.A)((0,i.A)((0,i.A)({display:"block",boxSizing:"content-box",width:I(c,u),height:"auto",aspectRatio:"".concat(r.width," / ").concat(r.height)},u.padding?{padding:"".concat(u.padding,"px")}:null),("columns"===u.layout||"masonry"===u.layout)&&c.photoIndex<c.photosCount-1?{marginBottom:"".concat(u.spacing,"px")}:null),y?{cursor:"pointer"}:null),f),A=y?function(t){y({event:t,photo:r,index:c.index})}:void 0,C=(0,i.A)((0,i.A)({src:r.src,alt:null!=(n=r.alt)?n:"",title:r.title,onClick:A,style:w,className:P("react-photo-album--photo",m),loading:"lazy",decoding:"async"},function(t,n,o){var e,r,i=t.srcSet||t.images;return i&&i.length>0&&(e=i.concat(i.find((function(n){return n.width===t.width}))?[]:[{src:t.src,width:t.width,height:t.height}]).sort((function(t,n){return t.width-n.width})).map((function(t){return"".concat(t.src," ").concat(t.width,"w")})).join(", ")),o.sizes?r=(o.sizes.sizes||[]).map((function(t){var e=t.viewport,r=t.size;return"".concat(e," ").concat(b(r,n,o))})).concat(b(o.sizes.size,n,o)).join(", "):e&&(r="".concat(Math.ceil(n.width/o.containerWidth*100),"vw")),{srcSet:e,sizes:r}}(r,c,u)),g),x=function(t){var n=C.src,o=C.alt,e=C.srcSet,r=C.sizes,c=C.style,u=(0,a.A)(C,p);return s.createElement("img",(0,i.A)((0,i.A)({alt:o},e?{srcSet:e,sizes:r}:null),{},{src:n,style:(null==t?void 0:t.wrapped)?{display:"block",width:"100%",height:"100%"}:c},u))},W={display:(e=w).display,boxSizing:e.boxSizing,width:e.width,aspectRatio:e.aspectRatio,padding:e.padding,marginBottom:e.marginBottom,cursor:e.cursor};return s.createElement(s.Fragment,null,null!=(o=null==v?void 0:v({photo:r,layout:c,layoutOptions:u,imageProps:C,renderDefaultPhoto:x,wrapperStyle:W}))?o:x())}function O(t){var n=t.rowContainerProps,o=t.children;return s.createElement("div",(0,i.A)({},n),o)}function M(t){var n=t.layoutOptions,o=t.rowIndex,e=t.rowsCount,r=t.renderRowContainer,c=t.rowContainerProps,u=void 0===c?{}:c,l=u.style,p=u.className,d=(0,a.A)(u,h),f=t.children,m=(0,i.A)({className:P("react-photo-album--row",p),style:(0,i.A)((0,i.A)({display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"flex-start",justifyContent:"space-between"},o<e-1?{marginBottom:"".concat(n.spacing,"px")}:null),l)},d);return s.createElement(s.Fragment,null,(null!=r?r:O)({layoutOptions:n,rowIndex:o,rowsCount:e,rowContainerProps:m,children:f}))}function k(t){var n=t.photos,o=t.layoutOptions,e=t.renderPhoto,r=t.renderRowContainer,i=t.componentsProps,a=i.imageProps,c=i.rowContainerProps,u=x({photos:n,layoutOptions:o});return u?s.createElement(s.Fragment,null,u.map((function(t,n){return s.createElement(M,{key:"row-".concat(n),layoutOptions:o,rowIndex:n,rowsCount:u.length,renderRowContainer:r,rowContainerProps:c},t.map((function(t){var n=t.photo,r=t.layout;return s.createElement(R,{key:n.key||n.src,photo:n,layout:r,layoutOptions:o,renderPhoto:e,imageProps:a})})))}))):null}function N(t,n,o,e){return function(t,n,o){for(var e=[o],r=o,i=n;i>0;i-=1)r=t.get(r)[i].node,e.push(r);return e.reverse()}(function(t,n,o,e){var i=new Map,a=new Set;a.add(o);for(var c=function(o){var c=(0,r.A)(a.keys());a.clear(),c.forEach((function(r){var c=o>0?i.get(r)[o].weight:0;t(r).forEach((function(t){var u=t.neighbor,s=t.weight,l=i.get(u);l||(l=[],i.set(u,l));var p=c+s,h=l[o+1];(!h||h.weight>p&&(h.weight/p>1.0001||r<h.node))&&(l[o+1]={node:r,weight:p}),o<n-1&&u!==e&&a.add(u)}))}))},u=0;u<n;u+=1)c(u);return i}(t,n,o,e),n,e)}function S(t){for(var n=t.path,o=t.photos,e=t.containerWidth,r=t.columnsGaps,i=t.columnsRatios,a=t.spacing,c=t.padding,u=[],s=i.reduce((function(t,n){return t+n}),0),l=function(t){var l=o.map((function(t,n){return{photo:t,index:n}})).slice(n[t],n[t+1]),p=i.reduce((function(n,o,e){return n+(r[t]-r[e])*o}),0),h=(e-(n.length-2)*a-2*(n.length-1)*c-p)*i[t]/s;u.push(l.map((function(t,n){var o=t.photo,e=t.index;return{photo:o,layout:{width:h,height:h/g(o),index:e,photoIndex:n,photosCount:l.length}}})))},p=0;p<n.length-1;p+=1)l(p);return u}function E(t){var n=t.photos,o=t.layoutOptions,e=t.targetColumnWidth,r=o.columns,i=o.spacing,a=o.padding,c=o.containerWidth,u=[],s=[];if(n.length<=r){for(var l=n.length>0?n.reduce((function(t,n){return t+g(n)}),0)/n.length:1,p=0;p<r;p+=1)u[p]=2*a,s[p]=p<n.length?g(n[p]):l;return{columnsGaps:u,columnsRatios:s,columnsModel:S({path:Array.from({length:r+1}).map((function(t,o){return Math.min(o,n.length)})),photos:n,columnsRatios:s,columnsGaps:u,containerWidth:c,spacing:i,padding:a})}}for(var h=(n.reduce((function(t,n){return t+e/g(n)}),0)+i*(n.length-r)+2*a*n.length)/r,d=function(t){var n=t.photos,o=t.spacing,e=t.padding,r=t.targetColumnWidth,i=t.targetColumnHeight;return function(t){for(var a=[],c=1.5*i,u=r/g(n[t])+2*e,s=t+1;s<n.length+1&&(a.push({neighbor:s,weight:Math.pow(i-u,2)}),!(u>c||s===n.length));s+=1)u+=r/g(n[s])+o+2*e;return a}}({photos:n,targetColumnWidth:e,targetColumnHeight:h,spacing:i,padding:a}),f=N(d,r,0,n.length),m=0;m<f.length-1;m+=1){var v=n.slice(f[m],f[m+1]);u[m]=i*(v.length-1)+2*a*v.length,s[m]=1/v.reduce((function(t,n){return t+1/g(n)}),0)}return{columnsGaps:u,columnsRatios:s,columnsModel:S({path:f,photos:n,columnsRatios:s,columnsGaps:u,containerWidth:c,spacing:i,padding:a})}}function z(t){var n=t.photos,o=t.layoutOptions,e=o.columns,r=o.spacing,a=o.padding,c=E({photos:n,layoutOptions:o,targetColumnWidth:(o.containerWidth-r*(e-1)-2*a*e)/e}),u=c.columnsGaps,s=c.columnsRatios,l=c.columnsModel;return l.findIndex((function(t){return t.findIndex((function(t){var n=t.layout,o=n.width,e=n.height;return o<0||e<0}))>=0}))>=0?e>1?z({photos:n,layoutOptions:(0,i.A)((0,i.A)({},o),{},{columns:e-1})}):void 0:{columnsModel:l,columnsGaps:u,columnsRatios:s}}function B(t){return z({photos:t.photos,layoutOptions:t.layoutOptions})}function j(t){var n=t.columnContainerProps,o=t.children;return s.createElement("div",(0,i.A)({},n),o)}function L(t){var n=t.layoutOptions,o=t.columnIndex,e=t.columnsCount,r=t.columnsGaps,i=t.columnsRatios,a=n.layout,c=n.spacing,u=n.padding;if("masonry"===a||!r||!i)return"calc((100% - ".concat(c*(e-1),"px) / ").concat(e,")");var s=i.reduce((function(t,n){return t+n}),0),l=i.reduce((function(t,n,e){return t+(r[o]-r[e])*n}),0);return"calc((100% - ".concat(v((e-1)*c+2*e*u+l,3),"px) * ").concat(v(i[o]/s,5)," + ").concat(2*u,"px)")}function H(t){var n=t.layoutOptions,o=t.renderColumnContainer,e=t.children,r=t.columnContainerProps,c=void 0===r?{}:r,u=c.style,l=c.className,p=(0,a.A)(c,d),h=(0,a.A)(t,f),m=(0,i.A)({className:P("react-photo-album--column",l),style:(0,i.A)({display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"flex-start",width:L(t),justifyContent:"columns"===n.layout?"space-between":"flex-start"},u)},p);return s.createElement(s.Fragment,null,(null!=o?o:j)((0,i.A)({layoutOptions:n,columnContainerProps:m,children:e},h)))}function G(t){var n=t.photos,o=t.layoutOptions,e=t.renderPhoto,r=t.renderColumnContainer,i=t.componentsProps,a=i.imageProps,c=i.columnContainerProps,u=B({photos:n,layoutOptions:o});if(!u)return null;var l=u.columnsModel,p=u.columnsRatios,h=u.columnsGaps;return s.createElement(s.Fragment,null,l.map((function(t,n){return s.createElement(H,{key:"column-".concat(n),layoutOptions:o,columnIndex:n,columnsCount:l.length,columnsGaps:h,columnsRatios:p,renderColumnContainer:r,columnContainerProps:c},t.map((function(t){var n=t.photo,r=t.layout;return s.createElement(R,{key:n.key||n.src,photo:n,layout:r,layoutOptions:o,renderPhoto:e,imageProps:a})})))})))}function F(t){var n=t.photos,o=t.layoutOptions,e=o.columns,r=o.spacing,a=o.padding,c=(o.containerWidth-r*(e-1)-2*a*e)/e;if(c<=0)return e>1?F((0,i.A)((0,i.A)({},t),{},{layoutOptions:(0,i.A)((0,i.A)({},o),{},{columns:e-1})})):void 0;for(var u=[],s=0;s<e;s+=1)u[s]=0;var l=n.reduce((function(t,n,o){var e=u.reduce((function(t,n,o){return n<u[t]-1?o:t}),0);return u[e]=u[e]+c/g(n)+r+2*a,t[e].push({photo:n,index:o}),t}),Array.from({length:e}).map((function(){return[]})));return l.map((function(t){return t.map((function(n,o){var e=n.photo,r=n.index;return{photo:e,layout:{width:c,height:c/g(e),index:r,photoIndex:o,photosCount:t.length}}}))}))}function T(t){var n=t.photos,o=t.layoutOptions,e=t.renderPhoto,r=t.renderColumnContainer,i=t.componentsProps,a=i.imageProps,c=i.columnContainerProps,u=F({photos:n,layoutOptions:o});return u?s.createElement(s.Fragment,null,u.map((function(t,n){return s.createElement(H,{key:"masonry-column-".concat(n),layoutOptions:o,columnsCount:u.length,columnIndex:n,renderColumnContainer:r,columnContainerProps:c},t.map((function(t){var n=t.photo,r=t.layout;return s.createElement(R,{key:n.key||n.src,photo:n,layout:r,layoutOptions:o,renderPhoto:e,imageProps:a})})))}))):null}function _(t){var n=t.containerProps,o=t.children,e=t.containerRef;return s.createElement("div",(0,i.A)({ref:e},n),o)}function D(t){var n=t.layout,o=t.renderContainer,e=t.children,r=t.containerRef,c=t.containerProps,u=void 0===c?{}:c,l=u.style,p=u.className,h=(0,a.A)(u,m),d=(0,i.A)({className:P("react-photo-album","react-photo-album--".concat(n),p),style:(0,i.A)({display:"flex",flexWrap:"nowrap",justifyContent:"space-between",flexDirection:"rows"===n?"column":"row"},l)},h);return s.createElement(s.Fragment,null,(null!=o?o:_)({containerProps:d,containerRef:r,layout:n,children:e}))}function $(t,n){var o=n.newContainerWidth,e=n.newScrollbarWidth,r=t.containerWidth,i=t.scrollbarWidth;return void 0!==r&&void 0!==i&&void 0!==o&&void 0!==e&&o>r&&o-r<=20&&e<i?{containerWidth:r,scrollbarWidth:e}:r!==o||i!==e?{containerWidth:o,scrollbarWidth:e}:t}function Q(t,n){var o=null==t?void 0:t.clientWidth;if(void 0!==o&&n&&n.length>0){var e=(0,r.A)(n.filter((function(t){return t>0}))).sort((function(t,n){return n-t}));e.push(Math.floor(e[e.length-1]/2));var i=o;o=e.find((function(t,n){return t<=i||n===e.length-1}))}return o}var U=Object.freeze([1200,600,300,0]);function V(t,n){return"function"===typeof t?t(n):t}function X(t,n){return"undefined"!==typeof t?V(t,n):void 0}function q(t,n,o){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=X(t,n);return Math.round(Math.max(void 0===r?function(t,n){var o=U.findIndex((function(t){return t<=n}));return V(t[o>=0?o:0],n)}(o,n):r,e))}function J(t){var n=t.photos,o=t.layout,r=t.renderContainer,a=t.defaultContainerWidth,c=function(t,n){var o=s.useReducer($,{containerWidth:n}),r=(0,e.A)(o,2),i=r[0].containerWidth,a=r[1],c=s.useRef(null),u=s.useRef();return{containerRef:s.useCallback((function(n){var o;null==(o=u.current)||o.disconnect(),u.current=void 0,c.current=n;var e=function(){return a({newContainerWidth:Q(c.current,t),newScrollbarWidth:window.innerWidth-document.documentElement.clientWidth})};e(),n&&"undefined"!==typeof ResizeObserver&&(u.current=new ResizeObserver(e),u.current.observe(n))}),[t]),containerWidth:i}}(function(t){var n=s.useRef(t);return t&&n.current&&t.join()===n.current.join()||(n.current=t),n.current}(t.breakpoints),a),u=c.containerRef,l=c.containerWidth;if(!o||!["rows","columns","masonry"].includes(o)||!Array.isArray(n))return null;var p=l?function(t){var n=t.layout,o=t.onClick,e=t.containerWidth,r=t.targetRowHeight,i=t.rowConstraints,a=t.columns,c=t.spacing,u=t.padding,s=t.sizes;return{layout:n,onClick:o,containerWidth:e,columns:q(a,e,[5,4,3,2],1),spacing:q(c,e,[20,15,10,5]),padding:q(u,e,[0,0,0,0,0]),targetRowHeight:q(r,e,[function(t){return t/5},function(t){return t/4},function(t){return t/3},function(t){return t/2}]),rowConstraints:X(i,e),sizes:s}}((0,i.A)({containerWidth:l},t)):void 0,h=function(t,n,o){var e=t.photos,r=V(t.componentsProps,n)||{};if(o){var a=o.layout,c=o.spacing,u=o.padding,s=o.rowConstraints;if("rows"===a){var l=(s||{}).singleRowMaxHeight;if(l){var p=Math.floor(e.reduce((function(t,n){return t+n.width/n.height*l-2*u}),u*e.length*2+c*(e.length-1)));p>0&&(r.containerProps=r.containerProps||{},r.containerProps.style=(0,i.A)({maxWidth:p},r.containerProps.style))}}}return r}(t,l,p);return s.createElement(D,{layout:o,containerRef:u,renderContainer:r,containerProps:h.containerProps},p&&function(t,n,o){var e=t.photos,r=t.layout,a=t.renderPhoto,c=t.renderRowContainer,u=t.renderColumnContainer,l={photos:e,renderPhoto:a,componentsProps:n};return"rows"===r?s.createElement(k,(0,i.A)({layoutOptions:o,renderRowContainer:c},l)):"columns"===r?s.createElement(G,(0,i.A)({layoutOptions:o,renderColumnContainer:u},l)):s.createElement(T,(0,i.A)({layoutOptions:o,renderColumnContainer:u},l))}(t,h,p))}}}]);